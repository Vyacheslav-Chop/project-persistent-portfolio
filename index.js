import{a as w,i as L,S as B}from"./assets/vendor-DwJJ0CLa.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();const h={body:document.body,themeToggleButton:document.querySelector(".toggle-theme-btn"),openModalMenuBtn:document.querySelector(".burger-menu-btn"),modalMenu:document.querySelector(".menu")},b={theme:"theme",themeText:"themeText"},{theme:$,themeText:A}=b;function m(e,t){localStorage.setItem(e,t)}function F(){const e=localStorage.getItem($);return e||"theme-light"}function O(){const e=localStorage.getItem(A);return e||""}const{modalMenu:i,body:E}=h;function P(){i.classList.remove("is-close"),i.classList.add("is-open"),E.style.overflow="hidden",i.addEventListener("click",x),window.addEventListener("keydown",S)}function d(){i.classList.remove("is-open"),i.classList.add("is-close"),E.style.overflow="",i.removeEventListener("click",x),window.removeEventListener("keydown",S)}function C(){document.querySelectorAll("a, button").forEach(t=>t.blur())}function f(){document.querySelectorAll("a, button").forEach(t=>t.addEventListener("click",C))}function I(e){e.preventDefault();const t=document.querySelector(e.currentTarget.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth"}),e.currentTarget.blur()}function T(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",I)})}const{body:a,openModalMenuBtn:D}=h,{theme:v,themeText:y}=b;function k(){a.classList.contains("theme-light")?(a.classList.replace("theme-light","theme-dark"),m(v,"theme-dark")):(a.classList.replace("theme-dark","theme-light"),m(v,"theme-light"))}function S(e){e.key==="Escape"&&d()}function x(e){const t=e.target.closest(".menu-close-btn"),o=e.target.closest(".menu-nav-link"),s=e.target.closest(".menu-order-link"),n=e.target.closest(".toggle-theme-btn");if(e.target!==e.currentTarget){if(t){d();return}else if(s){d();return}else if(o){d();return}else n&&k();f(),T()}}function N(){D&&(P(),f())}function V(e){const t=e.target.closest("button[data-theme]");if(!t)return;a.classList.remove("text-theme-blue","text-theme-purple","text-theme-red");const o=t.dataset.theme;o==="default"?m(y,""):(a.classList.add(`text-theme-${o}`),m(y,`text-theme-${o}`)),f()}const{themeToggleButton:R,body:u}=h;R.addEventListener("click",k);function H(){const e=F();e?(u.classList.remove("theme-light","theme-dark"),u.classList.add(e)):u.classList.add("theme-light")}function z(){const e=O();e&&u.classList.add(e)}const{openModalMenuBtn:K}=h;document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".theme-switcher").forEach(t=>{t.addEventListener("click",V)})});H();z();K.addEventListener("click",N);T();f();async function j(){try{return(await w.get("https://portfolio-js.b.goit.study/api/reviews")).data}catch{return L.error({title:"Error",message:"Failed to load reviews from server."}),null}}function Z(e){const t=document.getElementById("reviews-list");if(t.innerHTML="",!e||e.length===0){t.innerHTML='<li class="swiper-slide">Not found</li>';return}e.map(({author:o,avatar_url:s,review:n})=>{const r=document.createElement("li");r.className="swiper-slide",r.innerHTML=`
      <div class="review-card">
        <p class="text">"${n}"</p>
        <div class="review-author">
          <img src="${s}" alt="${o}'s avatar" class="avatar">
          <h4 class="author">${o}</h4>
        </div>
      </div>
    `,t.appendChild(r)})}function _(){new B(".reviews-swiper",{slidesPerView:1,spaceBetween:20,keyboard:{enabled:!0},breakpoints:{1280:{slidesPerView:2}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}async function G(){const e=await j();Z(e),_()}G();const M=document.querySelector(".work-together-form"),l=document.querySelector("#user-email"),Y=document.querySelector("#user-message"),g=document.querySelector(".email-error");M.addEventListener("submit",J);function J(e){e.preventDefault();const t=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/,o=l.value.trim(),s=Y.value.trim();if(t.test(o))g.classList.add("hidden");else{g.classList.remove("hidden"),g.style.marginBottom="16px",l.classList.add("error"),l.style.color="red",l.style.marginBottom="5px";return}Q({email:o,comment:s})}function Q(e){w.post("https://portfolio-js.b.goit.study/api/requests",e).then(t=>{U(t.data.title,t.data.message),M.reset()}).catch(t=>{L.error({title:"Error",timeout:1e4,message:"Something went wrong. Please check your data and try again.",position:"topRight"})})}function U(e,t){const o=document.createElement("div");o.className="work-together-backdrop",o.innerHTML=`
    <div class="work-together-modal">
      <button class="work-modal-close-btn" type="button">
        <svg class="work-modal-btn-close-icon" width="24" height="24">
          <use href="/img/sprite-svg/icons.svg#x"></use>
        </svg>
      </button>
      <h3 class="work-modal-title text-accent"></h3>
      <p class="work-modal-text"></p>
    </div>
  `,document.body.appendChild(o),document.body.style.overflow="hidden";const s=o.querySelector(".work-modal-title"),n=o.querySelector(".work-modal-text");s.textContent=e,n.textContent=t,o.querySelector(".work-modal-close-btn").addEventListener("click",function(){p(o)}),o.addEventListener("click",function(c){c.target===o&&p(o)}),document.addEventListener("keydown",function c(q){q.key==="Escape"&&(p(o),document.removeEventListener("keydown",c))})}function p(e){e.remove(),document.body.style.overflow=""}
//# sourceMappingURL=index.js.map
